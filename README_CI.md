# راهنمای سامانهٔ CI

این پروژه با اسکریپت `tools/setup_ci.py` پیکربندی CI دریافت می کند. برای به روزرسانی تنظیمات:

```bash
python tools/setup_ci.py
```

## اجرای محلی

برای هماهنگی با جریان CI از اسکریپت زیر استفاده کنید:

```bash
python tools/run_tests.py --all
```

حالت های جداگانه:

- `--core` آزمون های هسته ای به همراه سنجش پوشش.
- `--golden` بررسی قطعی بودن خروجی صادرکننده.
- `--smoke` اجرای مسیر شاد دود و e2e.

پوشهٔ نمونه های طلایی در `tests/golden` قرار دارد. اگر فایل ها حذف شوند، پیام خطای «خطا: نمونهٔ طلایی یافت نشد» دریافت خواهید کرد.

## خطاهای رایج

- «خطا: فایل workflow قابل نوشتن نیست» به معنای نداشتن مجوز یا قفل بودن فایل است.
- «خطا: پوشش کد کمتر از حداقل تعیین شده است» زمانی چاپ می شود که آستانهٔ پوشش برآورده نشود.
- «بررسی کارایی غیرفعال است؛ متغیر RUN_P95_CHECK را روی 1 قرار دهید.» برای فعال سازی آزمون کارایی.
